<!DOCTYPE html>
<html lang="en">

<head>
    <title>Layout - bayd.xyz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preload" href="assets/style.css" as="style" />
    <link rel="stylesheet" href="assets/style.css" />
</head>

<style>
    h1 {
        font-size: 44px;
        line-height: 100%;
    }

    h1:before {
        content: "";
    }

    #metadata {
        font-size: 18px;
        color: #999;
        letter-spacing: -0.5px;
    }

    #box {
        height: 1000px;
    }
</style>

<body>
    <div id="top-bar"></div>

    <div id="grid">
        <div id="left"></div>

        <div id="center" style="font-size: 21px">
            <a style="font-size: 36px" href="index.html">zX3no</a>
            <nav style="padding-bottom: 4px">
                <a href="index.html">/home</a>
                <a href="../build/posts.html">/posts</a>
                <!-- <a href="projects.html">/projects</a> -->
            </nav>
        </div>

        <div id="right"></div>
        <div id="bottom-left"></div>

        <div id="bottom-middle">
            <div id="post">
                <h1>
                    This is a very very very long example heading<span class="dot">.</span>
                    <div id="metadata">Posted on <time>2022-05-20</time></div>
                </h1>

                <h2>Preface</h2>
                <p>A <a href="https://github.com/sariaki">friend of mine</a> recently brought up his custom mechanical
                    keyboard
                    while we were hanging out in voice chat, and at first, nobody understood why anyone would buy one.
                    At
                    that
                    time, I had no clue that there are entire <a
                        href="https://reddit.com/r/MechanicalKeyboards/">communities</a> about building custom
                    keyboards.
                    With
                    every sentence that was said, we got deeper into this community. We explored different YouTube
                    channels,
                    watched comparisons, and listened to sound tests.</p>
                <p>Only a few hours later, all of us were hooked and wanted to build our own keyboards as well. This
                    post
                    will
                    go over all the parts that are needed, what they are for, and what you need to watch out for.</p>
                <div id="box"></div>
            </div>
        </div>

        <div id="bottom-right">
            <nav id="table-of-contents">
                <p style="font-size: 18px; margin: 0 0 4px 0; padding-left: 4px;"><b>Contents</b></p>

                <li>
                    <a id="menu-preface" href="#preface">
                        Preface
                    </a>

                    <a id="menu-mermaid" href="#mermaid">
                        Mermaid
                    </a>

                    <ul>
                        <a id="menu-flowchart" href="#flowchart">
                            Flowchart
                        </a>
                        <a id="menu-sequence-diagram" href="#sequence-diagram">
                            Sequence Diagram
                        </a>

                        <a id="menu-gantt-diagram" href="#gantt-diagram">
                            Gantt diagram
                        </a>
                    </ul>

                </li>

                <a id="menu-test" href="#test">
                    Test
                </a>

                </li>
            </nav>
        </div>
    </div>

</body>

<script type="text/javascript">
    function isInViewport(element) {
        const rect = element.getBoundingClientRect();
        return (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
    }

    function update() {
        let found_first = false;

        links.forEach((element, i) => {
            if (isInViewport(element) && !found_first) {
                menu_items[i].classList.add('is-active');
                found_first = true;
            } else {
                menu_items[i].classList.remove('is-active');
            }
        });
    }

    const menu_items = document.querySelectorAll("#table-of-contents a");
    let links = new Array(menu_items.length);
    let isTicking = null;

    menu_items.forEach((el, i) => {
        let id = el.getAttribute("id");
        if (id != null) {
            if (id.startsWith("menu")) {
                let link_id = id.substring(5);
                let link = document.getElementById(link_id);
                if (link != null) {
                    links[i] = link;
                }
            }
        }
    })

    update();

    window.addEventListener('scroll', () => {
        if (!isTicking) {
            window.requestAnimationFrame(() => {
                update();

                isTicking = false;
            });

            isTicking = true;
        }
    }, false);
</script>

</html>