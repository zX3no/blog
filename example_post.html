<!DOCTYPE html>
<html lang="en">

<head>
    <title>Example post - bayd.xyz</title>
    <link rel="preload" href="styles/style.css" as="style" />
    <link rel="stylesheet" href="styles/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<style>
    body {
        max-width: none;
        margin: 0;
        /* padding: 0; */
    }

    header {
        max-width: 900px;
        margin: 0 auto;
    }

    .container {
        display: flex;
        justify-content: center;
        margin: 0 auto;
    }

    .left {
        max-width: 900px;
        /* padding: 1rem; */
        /* margin: 1rem; */

        /* margin: 1rem 1rem; */
        /* padding: 1.25rem; */
        /* width: 49%; */
        /* margin-left: 15%; */
        margin-left: 250px;

        /* margin-left: 24%; */
        /* margin-right: 9%; */

        /* box-shadow: 1px 1px 5px rgba(255, 255, 255, 0.5); */
        /* border: 1px solid white; */
        border-radius: 6px;
    }

    .right {
        margin: 1rem 1rem;
        padding: 1.25rem;

        margin-top: 0;
        padding-top: 0;

        /* border: 1px solid black; */
        height: auto;
        /* width: 20%; */
        width: fit-content;

        /* Keeps the sidebar from jumping around while scrolling */
        /* TODO: Probably not good to use some random percentage. */
        top: 13%;

        /* Makes the right div sticky */
        align-self: flex-start;
        position: sticky;
    }

    .right ul {
        /* Removes the default padding */
        padding: 0;
    }

    .menu {
        list-style: none;
        line-height: 150%;
    }

    .menu ul {
        list-style-type: none;
        border-left: 1px solid #686363;
        margin: 0.75em;
        padding-left: 0.75em;
    }

    .menu a {
        padding: 4px;
        display: block;

        text-decoration: none;
        color: inherit;
        border-bottom: 0;
    }

    .menu .is-active {
        background-color: #485fc7;
        color: #fff;
    }

    .menu a:not(.is-active):hover {
        /* color: white;
        background: #c4c1c1; */

        background-color: #f5eeee33;
        color: var(--text);
    }

    @media only screen and (max-width: 750px) {
        .left {
            /* Override the 10% left offset */
            margin: 1rem 1rem;
        }

        .right {
            display: none;
        }
    }

    .box {
        height: 500px;
    }
</style>

<!-- https://deepthought-theme.netlify.app/docs/extended-shortcodes/ -->

<body>
    <header>
        <div class="header-bar"></div>
        <div><a href="index.html">zX3no</a></div>
        <nav>
            <a href="index.html">/home</a>
            <a href="posts.html">/posts</a>
            <a href="projects.html">/projects</a>
            <a href="about.html">/about</a>
        </nav>
    </header>

    <div class="container">
        <div class="left">

            <div class="post-header">
                This is a very very very long example heading<span class="dot">.</span>
                <div class="post-metadata">Posted on <time>2022-05-20</time></div>
            </div>

            <h2 class="toc" id="preface">Preface</h2>
            <p>A <a href="https://github.com/sariaki">friend of mine</a> recently brought up his custom mechanical
                keyboard
                while we were hanging out in voice chat, and at first, nobody understood why anyone would buy one.
                At
                that
                time, I had no clue that there are entire <a
                    href="https://reddit.com/r/MechanicalKeyboards/">communities</a> about building custom
                keyboards.
                With
                every sentence that was said, we got deeper into this community. We explored different YouTube
                channels,
                watched comparisons, and listened to sound tests.</p>
            <p>Only a few hours later, all of us were hooked and wanted to build our own keyboards as well. This
                post
                will
                go over all the parts that are needed, what they are for, and what you need to watch out for.</p>


            <h2 id="mermaid">Mermaid</h2>
            <div class="box"></div>

            <h2 id="flowchart">Flowchart</h2>
            <div class="box"></div>

            <h2 id="sequence-diagram">Sequence Diagram</h2>
            <div class="box"></div>

            <h2 id="gantt-diagram">Gantt Diagram</h2>
            <div class="box"></div>

            <h2 id="test">Test</h2>
            <div class="box"></div>
        </div>

        <div class="right">
            <ul class="menu">
                <p style="font-size: 18px;"><b>Contents</b></p>

                <li>
                    <a id="menu-preface" href="#preface">
                        Preface
                    </a>

                    <a id="menu-mermaid" href="#mermaid">
                        Mermaid
                    </a>
                    <ul>
                        <li>
                            <a id="menu-flowchart" href="#flowchart">
                                Flowchart
                            </a>
                        </li>
                        <li>
                            <a id="menu-sequence-diagram" href="#sequence-diagram">
                                Sequence Diagram
                            </a>
                        </li>
                        <li>
                            <a id="menu-gantt-diagram" href="#gantt-diagram">
                                Gantt diagram
                            </a>
                        </li>
                    </ul>

                    <a id="menu-test" href="#test">
                        Test
                    </a>
                </li>
            </ul>
        </div>


    </div>

</body>

<script type="text/javascript">
    function isInViewport(element) {
        const rect = element.getBoundingClientRect();
        return (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
    }

    function update() {
        let found_first = false;

        links.forEach((element, i) => {
            if (isInViewport(element) && !found_first) {
                menu_items[i].classList.add('is-active');
                found_first = true;
            } else {
                menu_items[i].classList.remove('is-active');
            }
        });

    }

    const menu_items = document.querySelectorAll(".menu a");
    let links = new Array(menu_items.length);
    let isTicking = null;

    menu_items.forEach((el, i) => {
        let id = el.getAttribute("id");
        if (id != null) {
            if (id.startsWith("menu")) {
                let link_id = id.substring(5);
                let link = document.getElementById(link_id);
                if (link != null) {
                    links[i] = link;
                }
            }
        }
    })

    update();

    window.addEventListener('scroll', () => {
        if (!isTicking) {
            window.requestAnimationFrame(() => {
                update();

                isTicking = false;
            });

            isTicking = true;
        }
    }, false);
</script>

</html>